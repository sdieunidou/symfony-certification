{
  "source_file": "12-console/configuration.md",
  "title": "Configuration des Commandes",
  "questions": [
    {
      "id": 6,
      "question": "Quel est l'effet principal de l'attribut `#[AsCommand]` sur le chargement des commandes ?",
      "type": "single_choice",
      "options": [
        "Il force l'instanciation immédiate de la commande.",
        "Il permet le lazy loading : `bin/console list` lit l'attribut sans instancier la commande.",
        "Il désactive l'autowiring.",
        "Il oblige à déclarer la commande manuellement dans services.yaml."
      ],
      "correct_answers": [
        "Il permet le lazy loading : `bin/console list` lit l'attribut sans instancier la commande."
      ],
      "explanation": "L'attribut évite la construction des commandes coûteuses lors du listage."
    },
    {
      "id": 7,
      "question": "Comment définir des alias dans `#[AsCommand]` avec Symfony 7.4+ ?",
      "type": "single_choice",
      "options": [
        "En séparant les noms par `|` dans `name:`",
        "En passant `aliases:` uniquement",
        "Impossible avec AsCommand",
        "Via services.yaml"
      ],
      "correct_answers": [
        "En séparant les noms par `|` dans `name:`"
      ],
      "explanation": "Symfony 7.4 accepte `name: 'app:foo|app:bar'` pour définir des alias."
    },
    {
      "id": 8,
      "question": "Où définir les exemples d'usage d'une commande (usage hints) en Symfony 7.4+ ?",
      "type": "single_choice",
      "options": [
        "Dans `#[AsCommand(usages: [...])]`",
        "Dans `configure()` uniquement",
        "Dans `help()`",
        "Dans phpunit.xml"
      ],
      "correct_answers": [
        "Dans `#[AsCommand(usages: [...])]`"
      ],
      "explanation": "L'attribut supporte `usages` pour enrichir l'aide."
    },
    {
      "id": 9,
      "question": "Une commande sans attribut `#[AsCommand]` mais avec `configure()` est-elle encore valide ?",
      "type": "single_choice",
      "options": [
        "Oui, mais elle perd le lazy loading si le nom est calculé dynamiquement",
        "Non",
        "Uniquement en dev",
        "Seulement si elle est publique"
      ],
      "correct_answers": [
        "Oui, mais elle perd le lazy loading si le nom est calculé dynamiquement"
      ],
      "explanation": "configure() suffit mais peut forcer l'instanciation."
    },
    {
      "id": 10,
      "question": "Comment cacher une commande tout en la gardant exécutable ?",
      "type": "multiple_choice",
      "options": [
        "`hidden: true` dans `#[AsCommand]`",
        "Nom commençant par `_`",
        "Supprimer `configure()`",
        "Mettre `private: true` dans services.yaml"
      ],
      "correct_answers": [
        "`hidden: true` dans `#[AsCommand]`",
        "Nom commençant par `_`"
      ],
      "explanation": "Les deux premières cachent l'affichage dans `list`, la commande reste exécutable."
    },
    {
      "id": 1,
      "question": "Quelle est la méthode recommandée (depuis Symfony 5.3+) pour définir le nom et la description d'une commande, permettant le 'Lazy Loading' ?",
      "type": "single_choice",
      "options": [
        "Définir des propriétés statiques `$defaultName` et `$defaultDescription`.",
        "Utiliser l'attribut PHP `#[AsCommand]` sur la classe.",
        "Utiliser la méthode `configure()`.",
        "Configurer le service dans `console.yaml`."
      ],
      "correct_answers": [
        "Utiliser l'attribut PHP `#[AsCommand]` sur la classe."
      ],
      "explanation": "L'attribut `#[AsCommand]` permet à Symfony de connaître le nom et la description de la commande sans avoir à instancier la classe, optimisant ainsi les performances (Lazy Loading)."
    },
    {
      "id": 2,
      "question": "Si vous utilisez l'autoconfiguration (par défaut dans Symfony), quelle classe votre commande doit-elle étendre pour être automatiquement enregistrée ?",
      "type": "single_choice",
      "options": [
        "Symfony\\Component\\Console\\Command\\Command",
        "Symfony\\Bundle\\FrameworkBundle\\Controller\\AbstractController",
        "Symfony\\Component\\HttpKernel\\Kernel",
        "Psr\\Log\\LoggerInterface"
      ],
      "correct_answers": [
        "Symfony\\Component\\Console\\Command\\Command"
      ],
      "explanation": "Toute classe étendant `Command` est automatiquement taguée `console.command` et enregistrée dans l'application console."
    },
    {
      "id": 3,
      "question": "Comment définir des arguments et des options pour une commande ?",
      "type": "single_choice",
      "options": [
        "Via l'attribut `#[AsCommand]`.",
        "Dans la méthode `execute()`.",
        "Dans la méthode `configure()`.",
        "Dans le constructeur."
      ],
      "correct_answers": [
        "Dans la méthode `configure()`."
      ],
      "explanation": "Bien que le nom puisse être défini par attribut, la définition des arguments (`addArgument`) et options (`addOption`) se fait toujours dans la méthode `configure()`."
    },
    {
      "id": 4,
      "question": "Comment masquer une commande de la liste `bin/console list` tout en la gardant exécutable ?",
      "type": "multiple_choice",
      "options": [
        "En définissant `hidden: true` dans l'attribut `#[AsCommand]`.",
        "En préfixant son nom par un underscore `_`.",
        "En la mettant en `private` dans `services.yaml`.",
        "En supprimant la méthode `configure()`."
      ],
      "correct_answers": [
        "En définissant `hidden: true` dans l'attribut `#[AsCommand]`.",
        "En préfixant son nom par un underscore `_`."
      ],
      "explanation": "Les deux méthodes fonctionnent. L'attribut `hidden: true` est la méthode moderne explicite."
    },
    {
      "id": 5,
      "question": "Comment la console gère-t-elle les abréviations de noms de commandes (ex: `bin/console a:u:c` pour `app:user:create`) ?",
      "type": "single_choice",
      "options": [
        "Elle ne les gère pas, il faut taper le nom complet.",
        "Elle les gère automatiquement tant que l'abréviation est unique (non ambiguë).",
        "Il faut définir des alias manuellement.",
        "Cela dépend du shell utilisé."
      ],
      "correct_answers": [
        "Elle les gère automatiquement tant que l'abréviation est unique (non ambiguë)."
      ],
      "explanation": "C'est une fonctionnalité native très pratique pour gagner du temps."
    }
  ]
}