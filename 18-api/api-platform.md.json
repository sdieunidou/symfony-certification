{
  "source_file": "18-api/api-platform.md",
  "title": "API Platform",
  "questions": [
    {
      "id": 1,
      "question": "Quels éléments API Platform fournit-il automatiquement à partir d'une classe annotée `#[ApiResource]` ?",
      "type": "multiple_choice",
      "options": [
        "CRUD REST (GET/POST/PUT/PATCH/DELETE) + pagination",
        "Documentation OpenAPI/Swagger UI",
        "Sérialisation/validation via Symfony",
        "Un front React prêt à l'emploi"
      ],
      "correct_answers": [
        "CRUD REST (GET/POST/PUT/PATCH/DELETE) + pagination",
        "Documentation OpenAPI/Swagger UI",
        "Sérialisation/validation via Symfony"
      ],
      "explanation": "API Platform génère opérations, docs, sérialisation/validation ; pas de front React par défaut."
    },
    {
      "id": 2,
      "question": "Quels formats hypermedia/API sont supportés nativement par API Platform v3 ?",
      "type": "multiple_choice",
      "options": [
        "JSON-LD/Hydra",
        "JSON:API",
        "HAL",
        "CSV uniquement"
      ],
      "correct_answers": [
        "JSON-LD/Hydra",
        "JSON:API",
        "HAL"
      ],
      "explanation": "API Platform expose plusieurs formats hypermedia (Hydra par défaut) et JSON:API/HAL configurables."
    },
    {
      "id": 3,
      "question": "Quelle ligne minimale expose une entité Doctrine en ressource REST complète ?",
      "type": "single_choice",
      "options": [
        "`#[Route]`",
        "`#[ApiResource]`",
        "`#[ApiFilter]`",
        "`#[ApiOperation]`"
      ],
      "correct_answers": [
        "`#[ApiResource]`"
      ],
      "explanation": "L'attribut ApiResource déclare la classe comme ressource ; les opérations par défaut sont générées."
    },
    {
      "id": 4,
      "question": "Qui fournit les données en lecture dans l'architecture Provider/Processor ?",
      "type": "single_choice",
      "options": [
        "State Provider",
        "State Processor",
        "Controller Symfony",
        "Security Voter"
      ],
      "correct_answers": [
        "State Provider"
      ],
      "explanation": "Provider = lecture (GET, collection/item). Processor = mutations (POST/PUT/PATCH/DELETE)."
    },
    {
      "id": 5,
      "question": "Pourquoi privilégier des DTOs via `input`/`output` plutôt que les entités Doctrine directement ?",
      "type": "multiple_choice",
      "options": [
        "Limiter le mass assignment",
        "Découpler contrat public et modèle persistance",
        "Faciliter le versioning de l'API",
        "Améliorer automatiquement les performances SQL"
      ],
      "correct_answers": [
        "Limiter le mass assignment",
        "Découpler contrat public et modèle persistance",
        "Faciliter le versioning de l'API"
      ],
      "explanation": "DTOs contrôlent l'exposition et la stabilité ; les perfs SQL ne sont pas garanties automatiquement."
    },
    {
      "id": 6,
      "question": "Quels filtres/paginations API Platform active-t-il par défaut ?",
      "type": "single_choice",
      "options": [
        "Pagination paginée Offset/Limit (Hydra) par défaut",
        "Aucun, il faut tout coder",
        "Uniquement la recherche full-text",
        "Uniquement le tri"
      ],
      "correct_answers": [
        "Pagination paginée Offset/Limit (Hydra) par défaut"
      ],
      "explanation": "La pagination est fournie d'office (page, itemsPerPage) dans la sortie Hydra."
    },
    {
      "id": 7,
      "question": "Comment exposer une opération custom (ex: `POST /books/{id}/publish`) sur une ressource ?",
      "type": "multiple_choice",
      "options": [
        "Déclarer une `ApiPlatform\\Metadata\\Post` custom avec `uriTemplate`",
        "Spécifier un `processor` dédié",
        "Passer par un `Route` standard sans ApiResource",
        "Recompiler le kernel"
      ],
      "correct_answers": [
        "Déclarer une `ApiPlatform\\Metadata\\Post` custom avec `uriTemplate`",
        "Spécifier un `processor` dédié"
      ],
      "explanation": "Les opérations custom se déclarent via les métadonnées et peuvent pointer vers un Processor custom."
    },
    {
      "id": 8,
      "question": "Quelle différence entre `input` et `output` dans ApiResource ?",
      "type": "single_choice",
      "options": [
        "`input` définit la classe utilisée pour désérialiser la requête, `output` la classe utilisée pour sérialiser la réponse",
        "`input` est pour GraphQL, `output` pour REST",
        "Aucune différence",
        "`input` est toujours l'entité, `output` toujours un DTO"
      ],
      "correct_answers": [
        "`input` définit la classe utilisée pour désérialiser la requête, `output` la classe utilisée pour sérialiser la réponse"
      ],
      "explanation": "On peut choisir des DTO différents pour l'entrée et la sortie."
    },
    {
      "id": 9,
      "question": "Quels canaux de sortie documentation API Platform propose-t-il par défaut ?",
      "type": "multiple_choice",
      "options": [
        "OpenAPI/Swagger UI",
        "JSON-LD/Hydra docs",
        "GraphQL Playground",
        "Postman collection générée automatiquement"
      ],
      "correct_answers": [
        "OpenAPI/Swagger UI",
        "JSON-LD/Hydra docs"
      ],
      "explanation": "Swagger UI et docs Hydra sont exposées ; pas de Postman collection auto par défaut."
    },
    {
      "id": 10,
      "question": "Quelles intégrations symfony le cœur d’API Platform exploite-t-il fortement ?",
      "type": "multiple_choice",
      "options": [
        "Serializer (groupes, normalizers)",
        "Validator (contraintes sur DTO/Entités)",
        "Security (voters, expressions)",
        "AssetMapper"
      ],
      "correct_answers": [
        "Serializer (groupes, normalizers)",
        "Validator (contraintes sur DTO/Entités)",
        "Security (voters, expressions)"
      ],
      "explanation": "API Platform repose sur Serializer/Validator/Security ; AssetMapper est hors périmètre."
    }
  ]
}
