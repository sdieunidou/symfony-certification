{
  "source_file": "07-formulaires/types.md",
  "title": "Création de Types Personnalisés (Custom Types)",
  "questions": [
    {
      "id": 1,
      "question": "Quelle méthode de `AbstractType` permet de définir le type parent (héritage) ?",
      "type": "single_choice",
      "options": [
        "`getParent()`",
        "`extends()`",
        "`configureOptions()`",
        "`buildForm()`"
      ],
      "correct_answers": [
        "`getParent()`"
      ],
      "explanation": "Par défaut, un type hérite de `FormType`. Si vous voulez créer un champ texte spécial, retournez `TextType::class`."
    },
    {
      "id": 2,
      "question": "Quelle méthode permet de passer des variables personnalisées au template Twig (ex: une classe CSS calculée, une icône) ?",
      "type": "single_choice",
      "options": [
        "`buildForm`",
        "`configureOptions`",
        "`buildView`",
        "`finishView`"
      ],
      "correct_answers": [
        "`buildView`"
      ],
      "explanation": "On ajoute les variables dans `$view->vars`."
    },
    {
      "id": 3,
      "question": "Peut-on injecter des services dans un Form Type personnalisé ?",
      "type": "single_choice",
      "options": [
        "Non, les Form Types ne sont pas des services.",
        "Oui, via le constructeur, car les Form Types sont enregistrés comme services (tag `form.type`).",
        "Oui, mais uniquement via des setters.",
        "Uniquement l'EntityManager."
      ],
      "correct_answers": [
        "Oui, via le constructeur, car les Form Types sont enregistrés comme services (tag `form.type`)."
      ],
      "explanation": "L'autowiring fonctionne parfaitement pour injecter des Transformers, Repositories ou RequestStack."
    },
    {
      "id": 4,
      "question": "À quoi sert l'option `by_reference` ?",
      "type": "single_choice",
      "options": [
        "À cloner l'objet.",
        "À indiquer si le formulaire doit modifier l'objet directement (true) ou utiliser les setters/adders (false).",
        "À passer l'objet par référence dans le constructeur.",
        "À activer le mode lecture seule."
      ],
      "correct_answers": [
        "À indiquer si le formulaire doit modifier l'objet directement (true) ou utiliser les setters/adders (false)."
      ],
      "explanation": "Pour les relations OneToMany, il est crucial de mettre `by_reference => false` pour appeler `addTag()` au lieu de `setTags()`."
    }
  ]
}