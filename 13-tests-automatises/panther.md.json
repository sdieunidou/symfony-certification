{
  "source_file": "13-tests-automatises/panther.md",
  "title": "Tests E2E avec Panther",
  "questions": [
    {
      "id": 1,
      "question": "Quelle est la différence fondamentale entre `WebTestCase` et `Panther` ?",
      "type": "single_choice",
      "options": [
        "`WebTestCase` est plus lent.",
        "`WebTestCase` simule un navigateur en PHP sans exécuter le JS, tandis que `Panther` pilote un vrai navigateur (Chrome/Firefox) capable d'exécuter le JavaScript.",
        "`Panther` ne supporte pas Symfony.",
        "`WebTestCase` utilise Selenium."
      ],
      "correct_answers": [
        "`WebTestCase` simule un navigateur en PHP sans exécuter le JS, tandis que `Panther` pilote un vrai navigateur (Chrome/Firefox) capable d'exécuter le JavaScript."
      ],
      "explanation": "Panther est nécessaire pour les tests End-to-End (E2E) impliquant du JS complexe (React, Vue, AJAX)."
    },
    {
      "id": 2,
      "question": "Quel protocole Panther utilise-t-il pour piloter les navigateurs ?",
      "type": "single_choice",
      "options": [
        "Puppeteer",
        "WebDriver (W3C standard) via ChromeDriver ou GeckoDriver.",
        "Cypress",
        "HTTP"
      ],
      "correct_answers": [
        "WebDriver (W3C standard) via ChromeDriver ou GeckoDriver."
      ],
      "explanation": "Il implémente le protocole WebDriver de manière transparente."
    },
    {
      "id": 3,
      "question": "Quelle interface `Panther` implémente-t-il pour rester familier aux développeurs Symfony ?",
      "type": "single_choice",
      "options": [
        "L'interface de `Guzzle`.",
        "L'interface `BrowserKit` et `DomCrawler` (comme WebTestCase).",
        "L'interface `Selenium`.",
        "L'interface `PHPUnit`."
      ],
      "correct_answers": [
        "L'interface `BrowserKit` et `DomCrawler` (comme WebTestCase)."
      ],
      "explanation": "Vous utilisez `request()`, `click()`, `filter()` exactement comme dans `WebTestCase`."
    },
    {
      "id": 4,
      "question": "Quelle fonctionnalité clé de Panther permet de gérer l'asynchronicité du JavaScript ?",
      "type": "single_choice",
      "options": [
        "`sleep(5)`",
        "`$client->waitFor('.element')`",
        "`$client->wait()`",
        "`$client->async()`"
      ],
      "correct_answers": [
        "`$client->waitFor('.element')`"
      ],
      "explanation": "Cela permet d'attendre qu'un élément apparaisse dans le DOM avant de faire une assertion, évitant les 'flaky tests'."
    },
    {
      "id": 5,
      "question": "Quelle méthode statique utiliser pour créer un client Panther ?",
      "type": "single_choice",
      "options": [
        "`static::createClient()`",
        "`static::createPantherClient()`",
        "`new PantherClient()`",
        "`Panther::create()`"
      ],
      "correct_answers": [
        "`static::createPantherClient()`"
      ],
      "explanation": "Contrairement à `createClient()` qui crée un `KernelBrowser`, celle-ci démarre le serveur web et le navigateur."
    },
    {
      "id": 6,
      "question": "Quelle méthode Panther attendre qu'un texte apparaisse dans un élément ?",
      "type": "single_choice",
      "options": [
        "`$client->waitForElementToContain('css', 'texte')`",
        "`$client->waitForText('texte')`",
        "`$client->wait()`",
        "`sleep(5)`"
      ],
      "correct_answers": [
        "`$client->waitForElementToContain('css', 'texte')`"
      ],
      "explanation": "Les helpers waitFor*/wait* gèrent l'asynchronicité du DOM."
    },
    {
      "id": 7,
      "question": "Comment prendre une capture d'écran pour debug ?",
      "type": "single_choice",
      "options": [
        "`$client->takeScreenshot('screen.png');`",
        "`$client->screenshot()`",
        "`$client->save()`",
        "`$client->dump()`"
      ],
      "correct_answers": [
        "`$client->takeScreenshot('screen.png');`"
      ],
      "explanation": "Panther expose takeScreenshot pour écrire un PNG."
    },
    {
      "id": 8,
      "question": "Quel mode est conseillé en CI pour exécuter Panther ?",
      "type": "single_choice",
      "options": [
        "Headless",
        "Mode GUI",
        "Selenium Grid uniquement",
        "PhantomJS"
      ],
      "correct_answers": [
        "Headless"
      ],
      "explanation": "Le headless est plus stable et rapide en CI."
    },
    {
      "id": 9,
      "question": "Comment passer des options Chrome (ex: DevTools) au client Panther ?",
      "type": "single_choice",
      "options": [
        "En les passant dans `static::createPantherClient(['external_base_uri' => null], ['--auto-open-devtools-for-tabs'])`",
        "Impossible",
        "Via phpunit.xml",
        "Via .env"
      ],
      "correct_answers": [
        "En les passant dans `static::createPantherClient(['external_base_uri' => null], ['--auto-open-devtools-for-tabs'])`"
      ],
      "explanation": "Le second argument accepte les flags du navigateur piloté."
    },
    {
      "id": 10,
      "question": "Pourquoi Panther est requis pour tester une SPA React riche en AJAX ?",
      "type": "single_choice",
      "options": [
        "Parce qu'il exécute le JavaScript réel via un navigateur WebDriver",
        "Parce qu'il simule sans JS",
        "Parce qu'il mocke les appels HTTP",
        "Parce qu'il désactive le JS"
      ],
      "correct_answers": [
        "Parce qu'il exécute le JavaScript réel via un navigateur WebDriver"
      ],
      "explanation": "Seul un navigateur réel gère le rendu/JS complexe; WebTestCase ne suffit pas."
    }
  ]
}