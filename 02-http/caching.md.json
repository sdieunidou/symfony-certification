{
  "source_file": "02-http/caching.md",
  "title": "Mise en cache (Caching HTTP)",
  "questions": [
    {
      "id": 1,
      "question": "Quels sont les objectifs principaux du mécanisme de cache HTTP ?",
      "type": "single_choice",
      "options": [
        "Assurer la confidentialité des données",
        "Réduire la charge serveur, la latence et la bande passante",
        "Garantir l'intégrité des transactions bancaires",
        "Permettre le traçage des utilisateurs"
      ],
      "answer": [
        "Réduire la charge serveur, la latence et la bande passante"
      ],
      "explanation": "Le cache HTTP permet de stocker des copies de réponses pour réduire la charge serveur, la latence et la bande passante."
    },
    {
      "id": 2,
      "question": "Sur quels modèles repose le cache HTTP ?",
      "type": "multiple_choice",
      "options": [
        "L'authentification et l'autorisation",
        "L'expiration et la validation",
        "La compression et le cryptage",
        "La réplication et la distribution"
      ],
      "answer": [
        "L'expiration et la validation"
      ],
      "explanation": "Il repose sur deux modèles distincts mais complémentaires : l'Expiration (Cache-Control, Expires) et la Validation (ETag, Last-Modified)."
    },
    {
      "id": 3,
      "question": "Dans le modèle d'expiration, que se passe-t-il tant que le délai de validité d'une ressource n'est pas écoulé ?",
      "type": "single_choice",
      "options": [
        "Le navigateur envoie une requête HEAD pour vérifier la validité",
        "Le navigateur ne contacte pas le serveur",
        "Le serveur renvoie un code 304 Not Modified",
        "Le serveur renvoie automatiquement la nouvelle version si disponible"
      ],
      "answer": [
        "Le navigateur ne contacte pas le serveur"
      ],
      "explanation": "Tant que le délai n'est pas écoulé, le navigateur (ou le proxy) NE CONTACTE PAS le serveur (0 appel réseau)."
    },
    {
      "id": 4,
      "question": "Quel code statut HTTP est renvoyé par le serveur lors d'une validation réussie (le fichier n'a pas changé) ?",
      "type": "single_choice",
      "options": [
        "200 OK",
        "301 Moved Permanently",
        "304 Not Modified",
        "403 Forbidden"
      ],
      "answer": [
        "304 Not Modified"
      ],
      "explanation": "Si le fichier est inchangé après comparaison, le serveur répond 304 Not Modified (Header sans corps)."
    },
    {
      "id": 5,
      "question": "Quelle directive Cache-Control définit la durée de vie en secondes pour tous les caches ?",
      "type": "single_choice",
      "options": [
        "expires",
        "max-age",
        "s-maxage",
        "ttl"
      ],
      "answer": [
        "max-age"
      ],
      "explanation": "max-age définit la durée de vie en secondes."
    },
    {
      "id": 6,
      "question": "Quelle directive Cache-Control est spécifique aux caches partagés (comme les CDN ou proxy) ?",
      "type": "single_choice",
      "options": [
        "public",
        "s-maxage",
        "proxy-revalidate",
        "shared-max-age"
      ],
      "answer": [
        "s-maxage"
      ],
      "explanation": "s-maxage définit la durée de vie pour les caches partagés uniquement."
    },
    {
      "id": 7,
      "question": "Quelle est la différence entre 'public' et 'private' dans Cache-Control ?",
      "type": "single_choice",
      "options": [
        "'public' est pour les fichiers HTML, 'private' pour les images",
        "'public' peut être caché par tout le monde, 'private' uniquement par le client final",
        "'public' ne nécessite pas d'authentification, 'private' si",
        "Il n'y a pas de différence, ce sont des synonymes"
      ],
      "answer": [
        "'public' peut être caché par tout le monde, 'private' uniquement par le client final"
      ],
      "explanation": "public : Peut être caché par tout le monde. private : Peut être caché uniquement par le client final (navigateur)."
    },
    {
      "id": 8,
      "question": "Que signifie réellement la directive 'no-cache' ?",
      "type": "single_choice",
      "options": [
        "Ne jamais mettre en cache la réponse",
        "Ne pas stocker la réponse sur le disque",
        "Doit revalider avec le serveur avant chaque utilisation",
        "Supprimer le cache existant"
      ],
      "answer": [
        "Doit revalider avec le serveur avant chaque utilisation"
      ],
      "explanation": "no-cache : Doit revalider avec le serveur avant chaque utilisation (mal nommé !)."
    },
    {
      "id": 9,
      "question": "Quelle directive interdit absolument de stocker la réponse ?",
      "type": "single_choice",
      "options": [
        "no-cache",
        "no-store",
        "private",
        "must-revalidate"
      ],
      "answer": [
        "no-store"
      ],
      "explanation": "no-store : Interdiction absolue de stocker la réponse."
    },
    {
      "id": 10,
      "question": "Quelle directive indique que la ressource ne changera jamais pendant sa durée de vie ?",
      "type": "single_choice",
      "options": [
        "permanent",
        "forever",
        "immutable",
        "static"
      ],
      "answer": [
        "immutable"
      ],
      "explanation": "immutable : La ressource ne changera jamais pendant sa durée de vie."
    }
  ]
}