{
  "source_file": "08-validation-donnees/sequences.md",
  "title": "Séquence de Groupe (Group Sequence)",
  "questions": [
    {
      "id": 1,
      "question": "À quoi sert une `GroupSequence` ?",
      "type": "single_choice",
      "options": [
        "À valider plusieurs groupes en même temps.",
        "À définir un ordre de validation des groupes et arrêter la validation dès qu'un groupe échoue (fail-fast).",
        "À grouper des contraintes pour les réutiliser.",
        "À trier les erreurs."
      ],
      "correct_answers": [
        "À définir un ordre de validation des groupes et arrêter la validation dès qu'un groupe échoue (fail-fast)."
      ],
      "explanation": "C'est utile pour ne pas exécuter des validations lourdes (ex: appel API) si les validations simples (ex: format email) ont déjà échoué."
    },
    {
      "id": 2,
      "question": "Où définit-on la séquence de groupe par défaut pour une entité ?",
      "type": "single_choice",
      "options": [
        "Dans le fichier `validation.yaml`.",
        "Avec l'attribut `#[Assert\\GroupSequence]` sur la classe de l'entité.",
        "Dans le contrôleur.",
        "Sur chaque propriété."
      ],
      "correct_answers": [
        "Avec l'attribut `#[Assert\\GroupSequence]` sur la classe de l'entité."
      ],
      "explanation": "Cela remplace le comportement du groupe `Default`."
    },
    {
      "id": 3,
      "question": "Si vous définissez `#[GroupSequence(['User', 'Strict'])]`, quand le groupe 'Strict' sera-t-il validé ?",
      "type": "single_choice",
      "options": [
        "Toujours, après le groupe 'User'.",
        "Uniquement si le groupe 'User' n'a généré aucune violation.",
        "En même temps que le groupe 'User'.",
        "Jamais."
      ],
      "correct_answers": [
        "Uniquement si le groupe 'User' n'a généré aucune violation."
      ],
      "explanation": "C'est le principe de l'arrêt séquentiel."
    },
    {
      "id": 4,
      "question": "Quelle interface permet de définir dynamiquement la séquence de groupes selon l'état de l'objet (ex: User Premium) ?",
      "type": "single_choice",
      "options": [
        "`DynamicGroupInterface`",
        "`GroupSequenceProviderInterface`",
        "`SequenceInterface`",
        "`ValidationProviderInterface`"
      ],
      "correct_answers": [
        "`GroupSequenceProviderInterface`"
      ],
      "explanation": "L'entité doit implémenter `getGroupSequence()` qui retourne le tableau des groupes à valider."
    },
    {
      "id": 5,
      "question": "Lorsque vous définissez une `GroupSequence` sur une classe, qu'arrive-t-il au groupe `Default` ?",
      "type": "single_choice",
      "options": [
        "Il est toujours validé en premier.",
        "Il est supprimé.",
        "Il est remplacé par la séquence définie. Si vous validez le groupe `Default` (comportement standard), c'est la séquence qui est exécutée.",
        "Il est validé en dernier."
      ],
      "correct_answers": [
        "Il est remplacé par la séquence définie. Si vous validez le groupe `Default` (comportement standard), c'est la séquence qui est exécutée."
      ],
      "explanation": "C'est pourquoi il est crucial d'inclure le nom de la classe (alias de Default) dans la séquence si on veut valider les contraintes de base."
    }
  ]
}