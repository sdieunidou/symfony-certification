{
  "source_file": "19-composants/process.md",
  "title": "Le Composant Process",
  "questions": [
    {
      "id": 1,
      "question": "Pourquoi préférer `Process` à `exec/system` ?",
      "type": "multiple_choice",
      "options": [
        "Échappement sécurisé des arguments",
        "Portabilité Windows/Linux",
        "Gestion des timeouts et idle timeouts",
        "Streaming stdout/stderr via callback"
      ],
      "correct_answers": [
        "Échappement sécurisé des arguments",
        "Portabilité Windows/Linux",
        "Gestion des timeouts et idle timeouts",
        "Streaming stdout/stderr via callback"
      ],
      "explanation": "Process uniformise l'exécution, sécurise les arguments et gère délais/flux."
    },
    {
      "id": 2,
      "question": "Différence entre `run()` et `start()` ?",
      "type": "single_choice",
      "options": [
        "`run` est bloquant, `start` est asynchrone (rend la main)",
        "`run` est async, `start` est bloquant",
        "Les deux sont async",
        "Les deux sont bloquants"
      ],
      "correct_answers": [
        "`run` est bloquant, `start` est asynchrone (rend la main)"
      ],
      "explanation": "run attend la fin du process; start lance en arrière-plan."
    },
    {
      "id": 3,
      "question": "Comment passer des arguments de façon sûre ?",
      "type": "single_choice",
      "options": [
        "`new Process(['cmd', $arg])`",
        "Concaténer une chaîne",
        "Via eval",
        "Base64 obligatoire"
      ],
      "correct_answers": [
        "`new Process(['cmd', $arg])`"
      ],
      "explanation": "Le tableau protège de l'injection shell."
    },
    {
      "id": 4,
      "question": "Comment streamer stdout/err en temps réel ?",
      "type": "single_choice",
      "options": [
        "Passer un callback à `run()` ou `start()`",
        "Impossible",
        "Attendre la fin puis `getOutput()`",
        "Lire un fichier temporaire"
      ],
      "correct_answers": [
        "Passer un callback à `run()` ou `start()`"
      ],
      "explanation": "Le callback reçoit OUT/ERR au fil de l'eau."
    },
    {
      "id": 5,
      "question": "Comment fixer un délai max d'exécution ?",
      "type": "single_choice",
      "options": [
        "`setTimeout()` pour la durée totale, `setIdleTimeout()` pour l'inactivité",
        "`setTimeLimit()`",
        "php.ini",
        "Impossible"
      ],
      "correct_answers": [
        "`setTimeout()` pour la durée totale, `setIdleTimeout()` pour l'inactivité"
      ],
      "explanation": "Deux timeouts : global et idle."
    },
    {
      "id": 6,
      "question": "Comment envoyer des données sur stdin du process ?",
      "type": "single_choice",
      "options": [
        "`setInput()` avant `run()`/`start()`",
        "Écrire dans /proc",
        "Toujours via fichier",
        "Impossible"
      ],
      "correct_answers": [
        "`setInput()` avant `run()`/`start()`"
      ],
      "explanation": "setInput alimente stdin."
    },
    {
      "id": 7,
      "question": "Quand utiliser `Process::fromShellCommandline()` ?",
      "type": "single_choice",
      "options": [
        "Quand on a besoin de syntaxe shell (pipes/redirections) et qu'on maîtrise les entrées pour éviter l'injection",
        "Toujours",
        "Jamais",
        "Uniquement sur Windows"
      ],
      "correct_answers": [
        "Quand on a besoin de syntaxe shell (pipes/redirections) et qu'on maîtrise les entrées pour éviter l'injection"
      ],
      "explanation": "fromShellCommandline est pratique mais moins sûr que le tableau."
    },
    {
      "id": 8,
      "question": "Comment envoyer un signal au processus ?",
      "type": "single_choice",
      "options": [
        "`signal(SIGTERM)`",
        "`kill()`",
        "Impossible",
        "`interrupt()`"
      ],
      "correct_answers": [
        "`signal(SIGTERM)`"
      ],
      "explanation": "Process expose signal() pour envoyer SIG*."
    },
    {
      "id": 9,
      "question": "Quelle classe exécute un snippet PHP isolé ?",
      "type": "single_choice",
      "options": [
        "`PhpProcess`",
        "`PhpRunner`",
        "`EvalProcess`",
        "`ShellProcess`"
      ],
      "correct_answers": [
        "`PhpProcess`"
      ],
      "explanation": "PhpProcess exécute du code PHP dans un sous-processus."
    },
    {
      "id": 10,
      "question": "Que teste `isSuccessful()` ?",
      "type": "single_choice",
      "options": [
        "Code de sortie == 0",
        "Présence de sortie",
        "Absence d'exception PHP",
        "La durée"
      ],
      "correct_answers": [
        "Code de sortie == 0"
      ],
      "explanation": "Un process est réussi si exit code 0."
    }
  ]
}
