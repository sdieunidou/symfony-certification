{
  "source_file": "11-cache/http-types.md",
  "title": "Types de Cache HTTP (Gateway vs Proxy)",
  "questions": [
    {
      "id": 1,
      "question": "Quels sont les deux principaux types de cache dans l'architecture HTTP ?",
      "type": "multiple_choice",
      "options": [
        "Le cache Navigateur (Client-side / Privé)",
        "Le cache Base de Données (Redis / Doctrine)",
        "Le Gateway Cache / Reverse Proxy (Partagé / Public)",
        "Le cache CPU (L1 / L2)"
      ],
      "correct_answers": [
        "Le cache Navigateur (Client-side / Privé)",
        "Le Gateway Cache / Reverse Proxy (Partagé / Public)"
      ],
      "explanation": "L'architecture HTTP distingue le cache local du client (privé) et les caches intermédiaires partagés (Gateway/Proxy) qui servent plusieurs utilisateurs."
    },
    {
      "id": 2,
      "question": "Quel type de contenu est candidat pour le cache 'Public' (Gateway Cache) ?",
      "type": "single_choice",
      "options": [
        "Les pages 'Mon Compte' et les Paniers d'achat.",
        "Le contenu générique identique pour tous les utilisateurs (Homepage, Assets, Articles publics).",
        "Les pages d'administration.",
        "Les réponses API contenant des clés secrètes."
      ],
      "correct_answers": [
        "Le contenu générique identique pour tous les utilisateurs (Homepage, Assets, Articles publics)."
      ],
      "explanation": "Le cache public est partagé entre tous les utilisateurs, il ne doit donc contenir aucune donnée personnelle ou sensible."
    },
    {
      "id": 3,
      "question": "Par défaut, comment le standard HTTP considère-t-il une réponse contenant un en-tête `Authorization` ?",
      "type": "single_choice",
      "options": [
        "Comme publique.",
        "Comme privée (non cacheable par un proxy partagé), sauf indication contraire explicite (`public`).",
        "Comme invalide.",
        "Comme ayant une durée de vie illimitée."
      ],
      "correct_answers": [
        "Comme privée (non cacheable par un proxy partagé), sauf indication contraire explicite (`public`)."
      ],
      "explanation": "La présence d'authentification implique généralement un contenu personnalisé, donc le standard HTTP interdit le stockage partagé par défaut."
    },
    {
      "id": 4,
      "question": "Quelle méthode utiliser pour définir la durée de cache spécifique aux proxies partagés (s-maxage) ?",
      "type": "single_choice",
      "options": [
        "`$response->setMaxAge()`",
        "`$response->setSharedMaxAge()`",
        "`$response->setPublicAge()`",
        "`$response->setProxyTTL()`"
      ],
      "correct_answers": [
        "`$response->setSharedMaxAge()`"
      ],
      "explanation": "Cela configure la directive `s-maxage` qui est prioritaire sur `max-age` pour les caches partagés."
    }
  ]
}